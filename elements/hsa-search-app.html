<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/iron-list/iron-list.html">
<link rel="import" href="../bower_components/byutv-jsonp/byutv-jsonp.html">
<link rel="import" href="../bower_components/paper-styles/typography.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../elements/hsa-item.html">

<dom-module id="hsa-search-app">
	<template>
		<style>
			:root {
				--default-primary-color: #00796b;
			}
			
			:host {
				@apply(--layout-fit);
				@apply(--layout-vertical);
				@apply(--paper-font-common-base);
				background-color: var(--paper-grey-200, #eee);
			}
			
			iron-list {
				flex: 1 100%;
				--iron-list-items-container: {
					max-width: 960px;
					margin: auto;
					margin-top: 60px;
				}
				;
			}
			
			paper-input {
				max-width: 960px;
				min-width: 420px;
				margin: auto;
			}
		</style>

		<paper-input label="Namn på vårdenhet"></paper-input>
		<byutv-jsonp auto url="http://api.offentligdata.minavardkontakter.se/orgmaster-hsa/v1/hsaObjects.js" params='{"fields":"hsaId,relativeDistinguishedName,countyName","lat":"59.4802","long":"18.0947","distance":4}' last-response="{{items}}"></byutv-jsonp>
		<iron-list id="list" items="[[items]]" as="item">
			<template>
				<hsa-item hsaid="[[item.hsaId]]" name="[[item.relativeDistinguishedName]]" county="[[item.countyName]]" />
			</template>
		</iron-list>

	</template>

	<script>
		Polymer({
			is: 'hsa-search-app',
			properties: {
				items: {
					type: Array
				}
			}
		});
	</script>

</dom-module>